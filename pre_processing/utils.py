import numpy, scipy, os, array
import matplotlib.pyplot as plt


def make_byteplot_im(path):
    f = open(path, 'rb')
    ln = os.path.getsize(path)  # length of file in bytes
    width = 2048
    rem = ln % width

    a = array.array("B")  # uint8 array
    a.fromfile(f, ln-rem)
    f.close()

    g = numpy.reshape(a, (int(len(a)/width), width))
    g = numpy.uint8(g)

    # plt.imshow(g, cmap='gray')
    # plt.show()
    sep = '/' if '/' in path else '\\'
    scipy.misc.imsave(path.split(sep)[-1], g)


if __name__ == "__main__":
    path = r"C:\Program Files\JetBrains\PyCharm 2020.2.1\bin\pycharm64.exe"
    make_byteplot_im(path)
    path = r"C:\Program Files\Notepad++\notepad++.exe"
    make_byteplot_im(path)
